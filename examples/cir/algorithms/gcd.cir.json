{
  "description": "Greatest Common Divisor using Euclid's algorithm via lambda recursion",
  "algorithm": "gcd(x, y) = if y == 0 then x else gcd(y, x mod y)",
  "example": "gcd(48, 18) = 6",
  "cir": {
    "node": "let",
    "name": "gcd",
    "annotation": { "node": "type-var", "name": "t" },
    "value": {
      "node": "abs",
      "params": [
        { "node": "param", "name": "x", "annotation": { "node": "type-name", "name": "Int" } },
        { "node": "param", "name": "y", "annotation": { "node": "type-name", "name": "Int" } }
      ],
      "body": {
        "node": "let",
        "name": "$rec",
        "annotation": { "node": "type-name", "name": "Int" },
        "value": {
          "node": "if",
          "condition": {
            "node": "apply",
            "callee": { "node": "var", "name": "==" },
            "args": [
              { "node": "var", "name": "y" },
              { "node": "int", "value": 0 }
            ]
          },
          "then": { "node": "var", "name": "x" },
          "else": {
            "node": "apply",
            "callee": { "node": "var", "name": "gcd" },
            "args": [
              { "node": "var", "name": "y" },
              {
                "node": "apply",
                "callee": { "node": "var", "name": "%" },
                "args": [
                  { "node": "var", "name": "x" },
                  { "node": "var", "name": "y" }
                ]
              }
            ]
          }
        },
        "body": { "node": "var", "name": "$rec" }
      }
    },
    "body": {
      "node": "let",
      "name": "result",
      "annotation": { "node": "type-name", "name": "Int" },
      "value": {
        "node": "apply",
        "callee": { "node": "var", "name": "gcd" },
        "args": [
          { "node": "int", "value": 48 },
          { "node": "int", "value": 18 }
        ]
      },
      "body": { "node": "var", "name": "result" }
    }
  },
  "evaluation_trace": [
    {
      "step": 1,
      "call": "gcd(48, 18)",
      "y_eq_0": false,
      "recursive_call": "gcd(18, 48 % 18)",
      "remainder": 12
    },
    {
      "step": 2,
      "call": "gcd(18, 12)",
      "y_eq_0": false,
      "recursive_call": "gcd(12, 18 % 12)",
      "remainder": 6
    },
    {
      "step": 3,
      "call": "gcd(12, 6)",
      "y_eq_0": false,
      "recursive_call": "gcd(6, 12 % 6)",
      "remainder": 0
    },
    {
      "step": 4,
      "call": "gcd(6, 0)",
      "y_eq_0": true,
      "result": 6
    }
  ],
  "expected_result": 6
}
