{
  "description": "Recursive summation of a list of integers",
  "input": {
    "list": {
      "kind": "list",
      "elements": [
        { "kind": "int", "value": "1" },
        { "kind": "int", "value": "2" },
        { "kind": "int", "value": "3" },
        { "kind": "int", "value": "4" },
        { "kind": "int", "value": "5" }
      ],
      "type": {
        "kind": "list",
        "elementType": {
          "kind": "int"
        }
      }
    }
  },
  "expression": {
    "kind": "apply",
    "callee": {
      "kind": "lambda",
      "parameters": [
        {
          "name": "sum",
          "type": {
            "kind": "arrow",
            "parameterType": {
              "kind": "list",
              "elementType": { "kind": "int" }
            },
            "returnType": { "kind": "int" }
          }
        }
      ],
      "body": {
        "kind": "apply",
        "callee": {
          "kind": "lambda",
          "parameters": [
            {
              "name": "nums",
              "type": {
                "kind": "list",
                "elementType": { "kind": "int" }
              }
            }
          ],
          "body": {
            "kind": "apply",
            "callee": {
              "kind": "var",
              "name": "sum"
            },
            "arguments": [
              {
                "kind": "var",
                "name": "nums"
              }
            ]
          }
        },
        "arguments": [
          {
            "kind": "int",
            "value": "0"
          },
          {
            "kind": "var",
            "name": "list"
          }
        ]
      }
    },
    "arguments": [
      {
        "kind": "lambda",
        "parameters": [
          {
            "name": "accumulator",
            "type": { "kind": "int" }
          },
          {
            "name": "remaining",
            "type": {
              "kind": "list",
              "elementType": { "kind": "int" }
            }
          }
        ],
        "body": {
          "kind": "if",
          "condition": {
            "kind": "apply",
            "callee": {
              "kind": "intrinsic",
              "name": "int.equals"
            },
            "arguments": [
              {
                "kind": "apply",
                "callee": {
                  "kind": "intrinsic",
                  "name": "list.length"
                },
                "arguments": [
                  {
                    "kind": "var",
                    "name": "remaining"
                  }
                ]
              },
              {
                "kind": "int",
                "value": "0"
              }
            ]
          },
          "thenBranch": {
            "kind": "var",
            "name": "accumulator"
          },
          "elseBranch": {
            "kind": "apply",
            "callee": {
              "kind": "var",
              "name": "sum"
            },
            "arguments": [
              {
                "kind": "apply",
                "callee": {
                  "kind": "intrinsic",
                  "name": "int.add"
                },
                "arguments": [
                  {
                    "kind": "var",
                    "name": "accumulator"
                  },
                  {
                    "kind": "apply",
                    "callee": {
                      "kind": "intrinsic",
                      "name": "list.nth"
                    },
                    "arguments": [
                      {
                        "kind": "var",
                        "name": "remaining"
                      },
                      {
                        "kind": "int",
                        "value": "0"
                      }
                    ]
                  }
                ]
              },
              {
                "kind": "apply",
                "callee": {
                  "kind": "intrinsic",
                  "name": "list.slice"
                },
                "arguments": [
                  {
                    "kind": "var",
                    "name": "remaining"
                  },
                  {
                    "kind": "int",
                    "value": "1"
                  }
                ]
              }
            ]
          }
        }
      }
    ]
  }
}
